<!doctype html>
<html ng-app="despesasApp">
    <meta charset="UTF-8">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
        <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

         <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/style.css">
        
        <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.2/angular.min.js"></script>-->
        
        
        <style type="text/css">
        
            .google-font {
                font-family: 'Roboto', sans-serif;   
            }
        
            .chart-title {
                color: white;
            }
            
            .my-select {
                font-size: 40px;
                height: 50px;
            }
        </style>
        
    </head>
    <body">
        <div class="container" id="load">
            <div class="row" >
                <div class="col-md-6">
                    <img src="img/hackathon_logo.png" class="img img-responsive center-block" style="margin-right: 0; margin-top: 100px;"></img>
                </div>
                <div class="col-md-6 text-center" style="padding: 100px">
                    <h2>Equipe</h2>
                    <h1 class="google-font">4Dots</h1>
                </div>    
            </div>
        </div>
        <div class="container" style="display: none" id="graficos">
            <div class="col-md-12" >
                <div id="body">
                    <div class="row">
                        <h1 class="box-title text-center">Selecione um ano:</h1>
                        <div class="col-md-12 text-center">
                            <form>
                                <select name="ano" class="form-control my-select" id="select-year">
                                    <option value="2015">2015</option>
                                    <option value="2014">2014</option>
                                    <option value="2013">2013</option>
                                    <option value="2012">2012</option>
                                </select>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row col-md-5 text-center">
                            <h4 class="text-center">% de despesas do Estado da Paraíba</h4>
                            <canvas id="pie-chart" width="100%" height="100%"></canvas>
                        </div>
                        <div class="row col-md-6 col-md-offset-1 text-right">
                            <h4 class="text-center">Evolução Anual Detalhada</h4>
                            <ul class="list-inline">
                                <li id="addLegislacaoToLine"><span style="width: 20px; height: 20px; background-color: rgba(46, 204, 113,1.0); display: block; float: left; margin: 2px;"></span> Receita</li>
                                <li id="addLegislacaoToLine"><span style="width: 20px; height: 20px; background-color: rgba(231, 76, 60,1.0); display: block; float: left;  margin: 2px;"></span> Despesa</li>
                            </ul>
                            
                            <div class="row col-md-12 text-center">
                                <canvas id="line-chart" height="100%" width="100%"></canvas>
                            </div>

                          </div>  
                        </div>
                            
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12">
                            <div class="box">
                            <div class="box-header with-border">
                              <h1 class="box-title text-center">Quem Gastou Mais em <strong id="ano">2015</strong>?</h1>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                              <table class="table table-bordered text-left table-hover">
                                <tbody id="table-body" ng-controller="homeCtrl">
                                    <tr>
                                      <th style="width: 10px">#</th>
                                      <th>Função</th>
                                      <th>Total em R$</th>
                                      <th class="text-center">%</th>
                                    </tr>
                                    
                                  </tbody>
                              </table>
                            </div>
                            <!-- /.box-body -->
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js"></script>
    <script type="text/javascript" src="js/pie_chart.js"></script>
    
    <script type="text/javascript">
        
        //observer no selectbox para mudar o ano
        $('#select-year').change(function(){
            $("#ano").html($('#select-year').val());
            createCharts($('#select-year').val());
        });
        
        $("#load").fadeOut(3000, function(){
            // $("body").css('background-color', 'whit');
            $("#graficos").fadeIn(100, function(){
                observeYearChanges("2015");
            });
            
        });
        
    </script>
</html>